<div class="container py-5 group-info" *ngIf="!isLoading; else skeletonLoader">
    <button type="button" class="btn-close float-end" aria-label="Close" (click)="closeModal()"></button>

    <div class="card group-header text-center p-4 mb-4 shadow-sm">
        <img [src]="group.groupAvatar" onerror="this.src='../../assets/group-default.png'"
            class="rounded-circle group-avatar mb-3 mx-auto d-block" alt="Group Avatar" />
        <h2 class="mb-0">{{ group.groupName }}</h2>
        <p class="text-muted mb-0">{{ group.groupDescription }}</p>
    </div>

    <div class="card members-list p-3 shadow-sm">
        <h5 class="mb-3">Members ({{ group.membersDetails.length }})</h5>
        <div class="members-container">
            <div *ngFor="let member of group.membersDetails"
                class="d-flex align-items-center justify-content-between flex-wrap mb-3 member-item">
                <div class="d-flex align-items-center">
                    <img [src]="member.avatar" class="rounded-circle me-1 me-lg-3 avatar-sm"
                        onerror="this.src='assets/user.jpg'" />
                    <div>
                        <strong>{{ member.username }}</strong>
                        <div class="text-muted small">{{ member.email }}</div>
                    </div>
                </div>

                <div class="d-flex flex-column align-items-end mt-2 mt-sm-0 ms-sm-3 text-end">
                    <span *ngIf="member._id === group.groupAdmin._id" class="badge bg-primary">Admin</span>
                </div>
            </div>
        </div>
    </div>
</div>

<ng-template #skeletonLoader>
    <div class="card text-center p-4 mb-4 shadow-sm">
        <ngx-skeleton-loader appearance="circle" [theme]="{ width: '100px', height: '100px', margin: '0 auto 20px' }">
        </ngx-skeleton-loader>
        <ngx-skeleton-loader [theme]="{ height: '24px', width: '40%', margin: '0 auto 10px' }"></ngx-skeleton-loader>
        <ngx-skeleton-loader [theme]="{ height: '16px', width: '60%', margin: '0 auto' }"></ngx-skeleton-loader>
    </div>

    <div class="card p-3 shadow-sm">
        <ngx-skeleton-loader count="5" animation="progress" [theme]="{
            height: '60px',
            'border-radius': '8px',
            margin: '10px 0'
        }"></ngx-skeleton-loader>
    </div>
</ng-template>